*[门面设计模式](https://www.cnblogs.com/lthIU/p/5860607.html)*
-----------------------

> 外观模式（Facade）,他隐藏了系统的复杂性，并向客户端提供了一个可以访问系统的接口。这种类型的设计模式属于结构性模式。为子系统中的一组接口提供了一个统一的访问接口，这个接口使得子系统更容易被访问或者使用。

角色及使用场景
-----------
![门面设计模式图示](https://images2015.cnblogs.com/blog/1016421/201609/1016421-20160910215031051-160598096.png)
>简单来说，该模式就是把一些复杂的流程封装成一个接口供给外部用户更简单的使用。这个模式中，设计到3个角色。
+ 门面角色：外观模式的核心。它被客户角色调用，它熟悉子系统的功能。内部根据客户角色的需求预定了几种功能的组合。[Facde]
+ 子系统角色:实现了子系统的功能。它对客户角色和Facade是未知的。它内部可以有系统内的相互交互，也可以由供外界调用的接口。 [模块A,模块B,模块C]
+ 客户角色:通过调用Facede来完成要实现的功能。[Client]

使用场景：
-------
1. 为复杂的模块或子系统提供外界访问的模块；
2. 子系统相互独立；
3. 在层析结构中，可以使用外观模式定义系统的每一层的入口。

类设计
-----
+ 构建一个Memory 相当于一个内存子系统
+ 构建一个Disk 相当于一个硬盘子系统
+ 构建一个Cpu 相关于Cpu 子系统
+ 构建一个Computer 相当于各个子系统的门面，提供给用户访问
+ 构建一个User 相当于用户，可以做自己关心的事情，比如计算机是否启动了

门面设计模式在tomcat中的使用
-------------------------
>门面设计模式在 Tomcat 中有多处使用，在 Request 和 Response 对象封装中、Standard Wrapper 到 ServletConfig 封装中、ApplicationContext 到 ServletContext 封装中等都用到了这种设计模式。

门面设计模式的原理
---------------
>这么多场合都用到了这种设计模式，那这种设计模式究竟能有什么作用呢？顾名思义，就是将一个东西封装成一个门面好与人家更容易进行交流，就像一个国家的外交部一样。
 这种设计模式主要用在一个大的系统中有多个子系统组成时，这多个子系统肯定要涉及到相互通信，但是每个子系统又不能将自己的内部数据过多的暴露给其它系统，不然就没有必要划分子系统了。每个子系统都会设计一个门面，把别的系统感兴趣的数据封装起来，通过这个门面来进行访问。这就是门面设计模式存在的意义。

门面示意图
--------
![门面示意图](http://www.ibm.com/developerworks/cn/java/j-lo-tomcat2/image001.jpg)
>Client 只能访问到 Facade 中提供的数据是门面设计模式的关键，至于 Client如何访问Facade 和 Subsystem如何提供Facade门面设计模式并没有规定死。

Tomcat 的门面设计模式示例
----------------------
>Tomcat 中门面设计模式使用的很多，因为 Tomcat 中有很多不同组件，每个组件要相互交互数据，用门面模式隔离数据是个很好的方法。

下面是 Request 上使用的门面设计模式：
--------------------------------
*Request 的门面设计模式类图*  
![Request类图](http://www.ibm.com/developerworks/cn/java/j-lo-tomcat2/image002.png)
>从图中可以看出 HttpRequestFacade 类封装了 HttpRequest 接口能够提供数据，通过 HttpRequestFacade 访问到的数据都被代理到 HttpRequest 中，通常被封装的对象都被设为 Private 或者 Protected 访问修饰，以防止在 Facade 中被直接访问。









